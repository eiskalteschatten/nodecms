{% extends "dashboard/mainBody.njk" %}

{% block title %}{{ pageTitle }}{% endblock %}

{% block content %}
  <div class="text-center uk-margin uk-hidden@m">
    <button class="uk-button uk-button-default" id="addNewCategoryButton"><i class="fa fa-plus-square-o"></i> Add new category</button>
  </div>

  <div uk-grid>
    <div class="uk-width-2-3@m">
      <table class="uk-table uk-table-striped uk-table-responsive uk-table-hover" id="table">
        <thead>
          <tr>
            <th>Category</th>
            <th>Description</th>
            <th>Slug</th>
          </tr>
        </thead>
        <tbody>
          {% include "dashboard/categories/tableRows.njk" %}
        </tbody>
      </table>
    </div>
    <div class="uk-width-1-3@m" id="addNewCategoryFormContainer">
      <div class="uk-card uk-card-default">
        <form id="addNewCategoryForm" action="/dashboard/categories/" method="post">
          <div class="uk-card-body">
            <h3 class="uk-card-title">Add new category</h3>

            <div class="uk-margin">
              <input type="text" value="" name="categoryName" class="uk-input" placeholder="Name" required>
            </div>
            <div class="uk-margin">
              <textarea class="uk-textarea" name="categoryDescription" placeholder="Description"></textarea>
            </div>
          </div>

          <div class="uk-card-footer">
            <div class="uk-margin uk-text-right">
              <button class="uk-button uk-button-primary"><i class="fas fa-edit text-icon-left"></i>Add new category</button>
            </div>
          </div>
        </form>
      </div>
    </div>
    <div class="uk-width-1-3@m uk-hidden" id="editCategoryFormContainer">
      <div class="uk-card uk-card-secondary">
        <form id="editCategoryForm" action="/dashboard/categories/" method="patch">
          <div class="uk-card-body">
            <button class="uk-card-badge cursor-pointer js-edit-category-cancel-button" uk-close></button>

            <h3 class="uk-card-title">Update Category</h3>

            <div class="uk-margin">
              <input type="text" value="" name="categoryName" class="uk-input" placeholder="Name" required>
            </div>
            <div class="uk-margin">
              <textarea class="uk-textarea" name="categoryDescription" placeholder="Description"></textarea>
            </div>

            <input type="hidden" name="id">
          </div>

          <div class="uk-card-footer">
            <div class="uk-margin">
              <button class="uk-button uk-button-primary">Save</button>
              {#<button class="uk-button uk-button-danger" id="deleteCategoryButton">Delete</button>#}
              <button class="uk-button uk-button-default js-edit-category-cancel-button">Cancel</button>
              <div class="uk-align-right uk-text-large">
                <a href="#" id="deleteCategoryButton" title="Delete"><i class="far fa-trash-alt uk-text-danger"></i></a>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
{% endblock %}

{% block javascripts %}
  {{ super() }}

  <script type="text/javascript" src="/js/dashboard/categories.js"></script>
{% endblock %}
